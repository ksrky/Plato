# プログラムの構造

## トップレベルの宣言

トップレベルで宣言できるのは、データ型、型シノニム、関数、変数、演算子、
演算子の結合性の定義である。

### データ型

List 型は以下のようにかける。<br>
型及びデータコンストラクタは大文字、型変数は小文字で始まる必要がある。

```haskell
data List a = Nil | Cons a (List a);
```

### 型シノニム

型の別名は以下のようにかける。

```haskell
NatList = List Nat;
```

### 関数

関数宣言は項とともに型を明示する必要がある。

```haskell
not : Bool -> Bool
not b = case b of
    True -> False
    False -> True
```

### 変数

関数宣言において項の定義が欠落すると、変数宣言となる。

```haskell
p : A -> B
```

関数の型署名を命題とみなせば、項の部分がその命題の証明となるため、
変数宣言は、論理学的には公理あるいは仮定とみなせる。
Haskell において同様のことを実現したい場合には、`p = undefined`を追加する。

### 演算子

演算子は結合性の定義とともに記述する。結合の強さは 0 から 9 までの整数値である。
デフォルトでは左結合で最大の結合力を持つ。

```haskell
infixl 6 +

(+) : Nat -> Nat -> Nat
(+) m n = case m of
    Zero -> n
    Succ m` -> Succ (m` + n)
```

## 式

|                      |     |                               |
| -------------------- | --- | ----------------------------- |
| let 式               |     | `let` `{` decls `}` `in` expr |
| case 式              |     | `case` expr `of` `{` alts `}` |
| 中置式               |     | expr op expr                  |
| 関数、変数           |     | f x y ...                     |
| データコンストラクタ |     | K a b ...                     |

## 型

|                  |     |                      |
| ---------------- | --- | -------------------- |
| 全称型           |     | `{` a b ... `}` type |
| 関数型           |     | type `->` type       |
| 型コンストラクタ |     | T a b ...            |
